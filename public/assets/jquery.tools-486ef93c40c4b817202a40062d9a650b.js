/*!
 * jQuery Tools dev - The missing UI library for the Web
 * 
 * overlay/overlay.js
 * scrollable/scrollable.js
 * tabs/tabs.js
 * tooltip/tooltip.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
(function(e){function r(r,i){var s=this,o=r.add(s),u=e(window),f,l,h,p=e.tools.expose&&(i.mask||i.expose),d=Math.random().toString().slice(10);p&&(typeof p=="string"&&(p={color:p}),p.closeOnClick=p.closeOnEsc=!1);var v=i.target||r.attr("rel");l=v?e(v):r;if(!l.length)throw"Could not find Overlay: "+v;r&&r.index(l)==-1&&r.click(function(e){return s.load(e),e.preventDefault()}),e.extend(s,{load:function(r){if(s.isOpened())return s;var f=n[i.effect];if(!f)throw'Overlay: cannot find effect : "'+i.effect+'"';i.oneInstance&&e.each(t,function(){this.close(r)}),r=r||e.Event(),r.type="onBeforeLoad",o.trigger(r);if(r.isDefaultPrevented())return s;h=!0,p&&e(l).expose(p);var v=i.top,y=i.left,w=l.outerWidth({margin:!0}),E=l.outerHeight({margin:!0});return typeof v=="string"&&(v=v=="center"?Math.max((u.height()-E)/2,0):parseInt(v,10)/100*u.height()),y=="center"&&(y=Math.max((u.width()-w)/2,0)),f[0].call(s,{top:v,left:y},function(){h&&(r.type="onLoad",o.trigger(r))}),p&&i.closeOnClick&&e.mask.getMask().one("click",s.close),i.closeOnClick&&e(document).on("click."+d,function(t){e(t.target).parents(l).length||s.close(t)}),i.closeOnEsc&&e(document).on("keydown."+d,function(e){e.keyCode==27&&s.close(e)}),s},close:function(t){if(!s.isOpened())return s;t=t||e.Event(),t.type="onBeforeClose",o.trigger(t);if(!t.isDefaultPrevented())return h=!1,n[i.effect][1].call(s,function(){t.type="onClose",o.trigger(t)}),e(document).off("click."+d+" keydown."+d),p&&e.mask.close(),s},getOverlay:function(){return l},getTrigger:function(){return r},getClosers:function(){return f},isOpened:function(){return h},getConf:function(){return i}}),e.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(t,n){e.isFunction(i[n])&&e(s).on(n,i[n]),s[n]=function(t){return t&&e(s).on(n,t),s}}),f=l.find(i.close||".close"),!f.length&&!i.close&&(f=e('<a class="close"></a>'),l.prepend(f)),f.click(function(e){s.close(e)}),i.load&&s.load()}e.tools=e.tools||{version:"dev"},e.tools.overlay={addEffect:function(e,t,r){n[e]=[t,r]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!e.browser.msie||e.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var t=[],n={};e.tools.overlay.addEffect("default",function(t,n){var r=this.getConf(),i=e(window);r.fixed||(t.top+=i.scrollTop(),t.left+=i.scrollLeft()),t.position=r.fixed?"fixed":"absolute",this.getOverlay().css(t).fadeIn(r.speed,n)},function(e){this.getOverlay().fadeOut(this.getConf().closeSpeed,e)}),e.fn.overlay=function(n){var i=this.data("overlay");return i?i:(e.isFunction(n)&&(n={onBeforeLoad:n}),n=e.extend(!0,{},e.tools.overlay.conf,n),this.each(function(){i=new r(e(this),n),t.push(i),e(this).data("overlay",i)}),n.api?i:this)}})(jQuery),function(e){function t(e,t){var n=parseInt(e.css(t),10);if(n)return n;var r=e[0].currentStyle;return r&&r.width&&parseInt(r.width,10)}function n(t,n){var r=e(n);return r.length<2?r:t.parent().find(n)}function i(t,i){var s=this,o=t.add(s),u=t.children(),f=0,l=i.vertical;r||(r=s),u.length>1&&(u=e(i.items,t)),i.size>1&&(i.circular=!1),e.extend(s,{getConf:function(){return i},getIndex:function(){return f},getSize:function(){return s.getItems().size()},getNaviButtons:function(){return m.add(g)},getRoot:function(){return t},getItemWrap:function(){return u},getItems:function(){return u.find(i.item).not("."+i.clonedClass)},move:function(e,t){return s.seekTo(f+e,t)},next:function(e){return s.move(i.size,e)},prev:function(e){return s.move(-i.size,e)},begin:function(e){return s.seekTo(0,e)},end:function(e){return s.seekTo(s.getSize()-1,e)},focus:function(){return r=s,s},addItem:function(t){return t=e(t),i.circular?(u.children().last().before(t),u.children().first().replaceWith(t.clone().addClass(i.clonedClass))):(u.append(t),g.removeClass("disabled")),o.trigger("onAddItem",[t]),s},seekTo:function(t,n,c){t.jquery||(t*=1);if(i.circular&&t===0&&f==-1&&n!==0)return s;if(!i.circular&&t<0||t>s.getSize()||t<-1)return s;var h=t;t.jquery?t=s.getItems().index(t):h=s.getItems().eq(t);var p=e.Event("onBeforeSeek");if(!c){o.trigger(p,[t,n]);if(p.isDefaultPrevented()||!h.length)return s}var v=l?{top:-h.position().top}:{left:-h.position().left};return f=t,r=s,n===undefined&&(n=i.speed),u.animate(v,n,i.easing,c||function(){o.trigger("onSeek",[t])}),s}}),e.each(["onBeforeSeek","onSeek","onAddItem"],function(t,n){e.isFunction(i[n])&&e(s).on(n,i[n]),s[n]=function(t){return t&&e(s).on(n,t),s}});if(i.circular){var h=s.getItems().slice(-1).clone().prependTo(u),p=s.getItems().eq(1).clone().appendTo(u);h.add(p).addClass(i.clonedClass),s.onBeforeSeek(function(e,t,n){if(!e.isDefaultPrevented()){if(t==-1)return s.seekTo(h,n,function(){s.end(0)}),e.preventDefault();t==s.getSize()&&s.seekTo(p,n,function(){s.begin(0)})}});var v=t.parents().add(t).filter(function(){if(e(this).css("display")==="none")return!0});v.length?(v.show(),s.seekTo(0,0,function(){}),v.hide()):s.seekTo(0,0,function(){})}var m=n(t,i.prev).click(function(e){e.stopPropagation(),s.prev()}),g=n(t,i.next).click(function(e){e.stopPropagation(),s.next()});i.circular||(s.onBeforeSeek(function(e,t){setTimeout(function(){e.isDefaultPrevented()||(m.toggleClass(i.disabledClass,t<=0),g.toggleClass(i.disabledClass,t>=s.getSize()-1))},1)}),i.initialIndex||m.addClass(i.disabledClass)),s.getSize()<2&&m.add(g).addClass(i.disabledClass),i.mousewheel&&e.fn.mousewheel&&t.mousewheel(function(e,t){if(i.mousewheel)return s.move(t<0?1:-1,i.wheelSpeed||50),!1});if(i.touch){var y={};u[0].ontouchstart=function(e){var t=e.touches[0];y.x=t.clientX,y.y=t.clientY},u[0].ontouchmove=function(e){if(e.touches.length==1&&!u.is(":animated")){var t=e.touches[0],n=y.x-t.clientX,r=y.y-t.clientY;s[l&&r>0||!l&&n>0?"next":"prev"](),e.preventDefault()}}}i.keyboard&&e(document).on("keydown.scrollable",function(t){if(!(!i.keyboard||t.altKey||t.ctrlKey||t.metaKey||e(t.target).is(":input"))){if(i.keyboard!="static"&&r!=s)return;var n=t.keyCode;if(!(!l||n!=38&&n!=40))return s.move(n==38?-1:1),t.preventDefault();if(!l&&(n==37||n==39))return s.move(n==37?-1:1),t.preventDefault()}}),i.initialIndex&&s.seekTo(i.initialIndex,0,function(){})}e.tools=e.tools||{version:"dev"},e.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}};var r;e.fn.scrollable=function(t){var n=this.data("scrollable");return n?n:(t=e.extend({},e.tools.scrollable.conf,t),this.each(function(){n=new i(e(this),t),e(this).data("scrollable",n)}),t.api?n:this)}}(jQuery),function(e){function i(n,r,i){var s=this,o=n.add(this),u=n.find(i.tabs),f=r.jquery?r:n.children(r),l;u.length||(u=n.children()),f.length||(f=n.parent().find(r)),f.length||(f=e(r)),e.extend(this,{click:function(r,f){var p=u.eq(r),d=!n.data("tabs");typeof r=="string"&&r.replace("#","")&&(p=u.filter('[href*="'+r.replace("#","")+'"]'),r=Math.max(u.index(p),0));if(i.rotate){var v=u.length-1;if(r<0)return s.click(v,f);if(r>v)return s.click(0,f)}if(!p.length){if(l>=0)return s;r=i.initialIndex,p=u.eq(r)}if(r===l)return s;f=f||e.Event(),f.type="onBeforeClick",o.trigger(f,[r]);if(!f.isDefaultPrevented()){var m=d?i.initialEffect&&i.effect||"default":i.effect;return t[m].call(s,r,function(){l=r,f.type="onClick",o.trigger(f,[r])}),u.removeClass(i.current),p.addClass(i.current),s}},getConf:function(){return i},getTabs:function(){return u},getPanes:function(){return f},getCurrentPane:function(){return f.eq(l)},getCurrentTab:function(){return u.eq(l)},getIndex:function(){return l},next:function(){return s.click(l+1)},prev:function(){return s.click(l-1)},destroy:function(){return u.off(i.event).removeClass(i.current),f.find('a[href^="#"]').off("click.T"),s}}),e.each("onBeforeClick,onClick".split(","),function(t,n){e.isFunction(i[n])&&e(s).on(n,i[n]),s[n]=function(t){return t&&e(s).on(n,t),s}}),i.history&&e.fn.history&&(e.tools.history.init(u),i.event="history"),u.each(function(t){e(this).on(i.event,function(e){return s.click(t,e),e.preventDefault()})}),f.find('a[href^="#"]').on("click.T",function(t){s.click(e(this).attr("href"),t)}),location.hash&&i.tabs=="a"&&n.find('[href="'+location.hash+'"]').length?s.click(location.hash):(i.initialIndex===0||i.initialIndex>0)&&s.click(i.initialIndex)}e.tools=e.tools||{version:"dev"},e.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(e,n){t[e]=n}};var t={"default":function(e,t){this.getPanes().hide().eq(e).show(),t.call()},fade:function(e,t){var n=this.getConf(),r=n.fadeOutSpeed,i=this.getPanes();r?i.fadeOut(r):i.hide(),i.eq(e).fadeIn(n.fadeInSpeed,t)},slide:function(e,t){var n=this.getConf();this.getPanes().slideUp(n.slideUpSpeed),this.getPanes().eq(e).slideDown(n.slideDownSpeed,t)},ajax:function(e,t){this.getPanes().eq(0).load(this.getTabs().eq(e).attr("href"),t)}},n,r;e.tools.tabs.addEffect("horizontal",function(t,i){if(!n){var s=this.getPanes().eq(t),o=this.getCurrentPane();r||(r=this.getPanes().eq(0).width()),n=!0,s.show(),o.animate({width:0},{step:function(e){s.css("width",r-e)},complete:function(){e(this).hide(),i.call(),n=!1}}),o.length||(i.call(),n=!1)}}),e.fn.tabs=function(t,n){var r=this.data("tabs");return r&&(r.destroy(),this.removeData("tabs")),e.isFunction(n)&&(n={onBeforeClick:n}),n=e.extend({},e.tools.tabs.conf,n),this.each(function(){r=new i(e(this),t,n),e(this).data("tabs",r)}),n.api?r:this}}(jQuery),function(e){function n(t,n,r){var i=r.relative?t.position().top:t.offset().top,s=r.relative?t.position().left:t.offset().left,o=r.position[0];i-=n.outerHeight()-r.offset[0],s+=t.outerWidth()+r.offset[1],/iPad/i.test(navigator.userAgent)&&(i-=e(window).scrollTop());var u=n.outerHeight()+t.outerHeight();o=="center"&&(i+=u/2),o=="bottom"&&(i+=u),o=r.position[1];var f=n.outerWidth()+t.outerWidth();return o=="center"&&(s-=f/2),o=="left"&&(s-=f),{top:i,left:s}}function r(r,i){var s=this,o=r.add(s),u,f=0,l=0,h=r.attr("title"),p=r.attr("data-tooltip"),d=t[i.effect],v,m=r.is(":input"),g=m&&r.is(":checkbox, :radio, select, :button, :submit"),y=r.attr("type"),w=i.events[y]||i.events[m?g?"widget":"input":"def"];if(!d)throw'Nonexistent effect "'+i.effect+'"';w=w.split(/,\s*/);if(w.length!=2)throw"Tooltip: bad events configuration for "+y;r.on(w[0],function(e){clearTimeout(f),i.predelay?l=setTimeout(function(){s.show(e)},i.predelay):s.show(e)}).on(w[1],function(e){clearTimeout(l),i.delay?f=setTimeout(function(){s.hide(e)},i.delay):s.hide(e)}),h&&i.cancelDefault&&(r.removeAttr("title"),r.data("title",h)),e.extend(s,{show:function(t){if(!u){p?u=e(p):i.tip?u=e(i.tip).eq(0):h?u=e(i.layout).addClass(i.tipClass).appendTo(document.body).hide().append(h):(u=r.find("."+i.tipClass),u.length||(u=r.next()),u.length||(u=r.parent().next()));if(!u.length)throw"Cannot find tooltip for "+r}if(s.isShown())return s;u.stop(!0,!0);var m=n(r,u,i);i.tip&&u.html(r.data("title")),t=e.Event(),t.type="onBeforeShow",o.trigger(t,[m]);if(t.isDefaultPrevented())return s;m=n(r,u,i),u.css({position:"absolute",top:m.top,left:m.left}),v=!0,d[0].call(s,function(){t.type="onShow",v="full",o.trigger(t)});var g=i.events.tooltip.split(/,\s*/);return u.data("__set")||(u.off(g[0]).on(g[0],function(){clearTimeout(f),clearTimeout(l)}),g[1]&&!r.is("input:not(:checkbox, :radio), textarea")&&u.off(g[1]).on(g[1],function(e){e.relatedTarget!=r[0]&&r.trigger(w[1].split(" ")[0])}),i.tip||u.data("__set",!0)),s},hide:function(n){if(!u||!s.isShown())return s;n=e.Event(),n.type="onBeforeHide",o.trigger(n);if(!n.isDefaultPrevented())return v=!1,t[i.effect][1].call(s,function(){n.type="onHide",o.trigger(n)}),s},isShown:function(e){return e?v=="full":v},getConf:function(){return i},getTip:function(){return u},getTrigger:function(){return r}}),e.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(t,n){e.isFunction(i[n])&&e(s).on(n,i[n]),s[n]=function(t){return t&&e(s).on(n,t),s}})}e.tools=e.tools||{version:"dev"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,n,r){t[e]=[n,r]}};var t={toggle:[function(e){var t=this.getConf(),n=this.getTip(),r=t.opacity;r<1&&n.css({opacity:r}),n.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(t){var n=this.getConf();!e.browser.msie||n.fadeIE?this.getTip().fadeTo(n.fadeInSpeed,n.opacity,t):(this.getTip().show(),t())},function(t){var n=this.getConf();!e.browser.msie||n.fadeIE?this.getTip().fadeOut(n.fadeOutSpeed,t):(this.getTip().hide(),t())}]};e.fn.tooltip=function(t){return t=e.extend(!0,{},e.tools.tooltip.conf,t),typeof t.position=="string"&&(t.position=t.position.split(/,?\s/)),this.each(function(){e(this).data("tooltip")===null&&(api=new r(e(this),t),e(this).data("tooltip",api))}),t.api?api:this}}(jQuery);